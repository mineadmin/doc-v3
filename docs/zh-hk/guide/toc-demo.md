# 增強型目錄導航演示

這個頁面展示了我們新實現的增強型頁內導航（TOC）功能。請注意右側的目錄導航，它具有以下特性：

## 主要功能特性

### 視覺層次優化

我們的新目錄導航具有清晰的視覺層次，不同級別的標題通過縮進、字體大小和顏色進行區分。

#### 標題級別區分
- H1 標題作為主要章節，具有突出的視覺效果
- H2-H6 標題根據層級遞減顯示
- 每個級別都有適當的縮進和間距

#### 顏色和樣式
- 激活項使用漸變色高亮顯示
- 懸停效果提供即時的視覺反饋
- 深色模式下自動調整顏色方案

### 交互體驗提升

增強的交互功能讓導航更加流暢和直觀。

#### 平滑滾動
點擊目錄項時，頁面會平滑滾動到對應位置，而不是突然跳轉。

#### 滾動同步
當您滾動頁面時，目錄會自動高亮當前可見的章節。

#### 鍵盤導航
支持使用鍵盤快捷鍵進行導航：
- `↑/↓` 或 `j/k` - 上下導航
- `Enter` 或 `Space` - 激活當前項
- `Home/End` - 跳到第一項/最後一項
- `Esc` - 關閉移動端浮層

### 現代化設計元素

我們採用了現代化的設計語言，包括：

#### 漸變和陰影
- 激活指示器使用優雅的漸變效果
- 微妙的陰影增加深度感
- 圓角設計符合現代審美

#### 動畫過渡
- 所有狀態變化都有平滑的過渡動畫
- 激活項的脈衝動畫提供視覺指引
- 移動端的彈出動畫流暢自然

## 功能增強

### 閲讀時間估算

目錄頂部顯示預估的閲讀時間，幫助讀者合理安排時間。計算考慮了：
- 文本長度
- 代碼塊數量
- 圖片數量

### 滾動進度指示

頁面右側有一個垂直的進度條，顯示您的閲讀進度。

### 長目錄摺疊

對於包含大量章節的長文檔，支持摺疊/展開功能：
- Ctrl/Cmd + 點擊 H1 標題可以摺疊其下的子章節
- 自動記住摺疊狀態

### 搜索高亮支持

當使用頁面搜索功能時，匹配的目錄項會被高亮顯示。

## 國際化支持

### 多語言適配

目錄導航完美支持多種語言：

#### 中文支持
- 優化的中文字體渲染
- 適當的字符間距
- 本地化的界面文本

#### 日文支持
- 日文字體優化
- 假名和漢字的混合排版
- 日式界面習慣

#### 英文支持
- 西文字體優化
- 自然的單詞間距
- 英文界面文本

### CJK 字符優化

針對中日韓文字的特殊優化：
- 更好的字重控制
- 優化的行高設置
- 適當的段落間距

## 移動端體驗

### 響應式設計

目錄導航在不同設備上都有良好的表現：

#### 桌面端
- 固定在右側
- 始終可見
- 充分利用屏幕空間

#### 平板端
- 自適應寬度
- 字體大小調整
- 觸摸友好的交互

#### 移動端
- 浮動按鈕觸發
- 底部彈出式面板
- 手勢支持

### 觸摸優化

移動設備上的特殊優化：
- 更大的點擊區域
- 觸摸手勢支持
- 防誤觸設計

## 技術實現細節

### 性能優化

我們注重性能，確保流暢的用户體驗：

#### 防抖和節流
- 滾動事件使用節流處理
- 窗口調整使用防抖
- 減少不必要的重繪

#### GPU 加速
- 動畫使用 transform 屬性
- 啓用硬件加速
- 優化的重排重繪

#### 懶加載
- 按需加載功能模塊
- 延遲初始化非關鍵功能
- 優化首屏加載時間

### 可訪問性

我們重視所有用户的使用體驗：

#### 屏幕閲讀器支持
- 語義化的 HTML 結構
- ARIA 屬性標註
- 鍵盤導航支持

#### 高對比度模式
- 自動適應系統設置
- 增強的邊框和輪廓
- 清晰的焦點指示

#### 減少動畫
- 尊重用户的動畫偏好
- 提供無動畫的替代方案
- 保持功能完整性

## 使用示例

### 基礎配置

目錄導航會自動生成，無需額外配置。但您可以通過選項自定義行為：

```typescript
enhanceTOC({
  enableReadingTime: true,    // 顯示閲讀時間
  enableProgress: true,       // 顯示進度條
  enableCollapse: true,       // 啓用摺疊功能
  enableSmoothScroll: true,   // 平滑滾動
  enableKeyboardNav: true,    // 鍵盤導航
  enableMobileFloat: true,    // 移動端浮動
  enableSearchHighlight: true // 搜索高亮
})
```

### 樣式自定義

您可以通過 CSS 變量自定義外觀：

```css
:root {
  --toc-gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --toc-indent-base: 1rem;
  --toc-font-h1: 0.95rem;
  /* 更多變量... */
}
```

## 總結

這個增強型的頁內導航系統大大提升了文檔的可讀性和導航體驗。它不僅在視覺上更加現代和吸引人，在功能上也提供了豐富的交互特性。無論是桌面端還是移動端，無論是哪種語言，用户都能獲得一致且優秀的使用體驗。

通過這些改進，我們希望讓用户在瀏覽長文檔時能夠：
- 快速瞭解文檔結構
- 輕鬆定位感興趣的內容
- 追蹤閲讀進度
- 享受流暢的導航體驗

感謝您體驗我們的增強型目錄導航系統！