# 折りたたみ検索

検索フォームの折りたたみと展開機能を表示します。検索項目が多いシナリオに適しており、折りたたみ機能でページスペースを節約し、ユーザー体験を向上させます。

## 折りたたみ検索デモ

<DemoPreview dir="demos/ma-search/collapsible-search" />

## 折りたたみ機能説明

### 基本設定
`fold` と `foldRows` パラメータで折りたたみ動作を制御:

```typescript
const searchOptions = {
  fold: true,        // 折りたたみ機能を有効化
  foldRows: 2,       // デフォルトで2行表示
}
```

### カスタムボタンテキスト
`text` 設定で折りたたみボタンのテキストをカスタマイズ:

```typescript
const searchOptions = {
  text: {
    isFoldBtn: 'さらに検索条件を表示',
    notFoldBtn: '一部の検索条件を折りたたむ'
  }
}
```

### プログラム制御
コンポーネントインスタンスメソッドで折りたたみ状態を制御:

```typescript
// 折りたたみ状態を切り替え
searchRef.value?.foldToggle()

// 現在の折りたたみ状態を取得
const isFold = searchRef.value?.getFold()
```

## 使用シナリオ

### 1. 管理システム
管理画面では通常複数の検索条件が必要で、折りたたみ機能でインターフェースを整理できます。

### 2. データ分析プラットフォーム
複雑なデータフィルタ条件で、よく使う条件を表示し、高度な条件を折りたたみ領域に隠します。

### 3. モバイル対応
モバイルデバイスでは画面スペースが限られているため、折りたたみ機能が特に重要です。

## 折りたたみ戦略

### スマート折りたたみ
- 折りたたむ必要がある検索項目数を自動計算
- 最もよく使われる検索条件を優先表示
- 操作ボタンを常に表示

### レスポンシブ折りたたみ
- 画面サイズに応じて折りたたみ行数を自動調整
- モバイル端末ではデフォルトでよりコンパクトな表示
- スムーズな展開/折りたたみアニメーション

## 主な特徴

- 📱 モバイルフレンドリーなデザイン
- 🔄 スムーズな展開/折りたたみアニメーション
- 🎛 柔軟な折りたたみ行数設定
- 📝 カスタマイズ可能なボタンテキスト
- ⚡ プログラム的な状態制御

## ベストプラクティス

### 1. 適切な折りたたみ行数設定
実際の業務シナリオとページレイアウトに基づき、適切に `foldRows` パラメータを設定:

```typescript
// デスクトップ推奨 2-3行
// モバイル推奨 1-2行
const searchOptions = {
  foldRows: window.innerWidth < 768 ? 1 : 2
}
```

### 2. 検索項目順序の最適化
最もよく使われる検索条件を前に配置し、折りたたみ状態でも表示されるようにします。

### 3. 状態表示の提供
カスタムボタンテキストやアイコンで、現在の折りたたみ状態を明確に示します。

## 関連リンク

- [レスポンシブレイアウト](./responsive-layout) - 異なる画面サイズでの適応表示を学ぶ
- [カスタムアクション](./custom-actions) - カスタム操作ボタンを学ぶ
- [基本使用方法](./basic-usage) - 基本検索機能を学ぶ