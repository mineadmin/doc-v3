# MineAdmin å›½éš›åŒ–è¨­å®šå®Œå…¨ã‚¬ã‚¤ãƒ‰

MineAdmin ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Vue i18n v11 ã‚’ãƒ™ãƒ¼ã‚¹ã«æ§‹ç¯‰ã•ã‚ŒãŸå®Œå…¨ãªå›½éš›åŒ–ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã€å¤šè¨€èªåˆ‡ã‚Šæ›¿ãˆã€å‹•çš„è¨€èªãƒ‘ãƒƒã‚¯èª­ã¿è¾¼ã¿ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸç¿»è¨³ç®¡ç†ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®å›½éš›åŒ–å®Ÿè£…ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨ä½¿ç”¨æ–¹æ³•ã‚’è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## æ¦‚è¦

### ã‚µãƒãƒ¼ãƒˆè¨€èª
- ç°¡ä½“å­—ä¸­å›½èª (zh_CN) - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èª
- ç¹ä½“å­—ä¸­å›½èª (zh_TW)
- è‹±èª (en)

### ã‚³ã‚¢æ©Ÿèƒ½
- ğŸŒ å¤šè¨€èªå‹•çš„åˆ‡ã‚Šæ›¿ãˆ
- ğŸ“¦ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–è¨€èªãƒ‘ãƒƒã‚¯ç®¡ç†
- âš¡ å‹•çš„è¨€èªãƒ‘ãƒƒã‚¯èª­ã¿è¾¼ã¿
- ğŸ”§ é–‹ç™ºãƒ„ãƒ¼ãƒ«çµ±åˆ
- ğŸ“± ã‚°ãƒ­ãƒ¼ãƒãƒ«ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã‚µãƒãƒ¼ãƒˆ
- ğŸ¯ TypeScript ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Vue i18n**: 11.1.2
- **ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**: @intlify/unplugin-vue-i18n 6.0.3
- **è¨€èªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: YAML (JSON ã‚µãƒãƒ¼ãƒˆ)
- **ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ **: TypeScript

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š

### ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–

ã‚·ã‚¹ãƒ†ãƒ ã¯ `/web/src/bootstrap.ts` ã§å›½éš›åŒ–è¨­å®šã‚’åˆæœŸåŒ–ã—ã¾ã™ï¼š

```typescript
// ã‚½ãƒ¼ã‚¹ä½ç½®: web/src/bootstrap.ts:44-67
// GitHub: https://github.com/mineadmin/mineadmin/blob/master/web/src/bootstrap.ts

async function createI18nService(app: App) {
  // è¨€èªãƒ‘ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ã‚¹ã‚­ãƒ£ãƒ³
  const locales: any[] = Object.entries(import.meta.glob('./locales/*.y(a)?ml')).map(([key]: any) => {
    const [, value, label] = key.match(/^.\/locales\/(\w+)\[([^[\]]+)\]\.yaml$/)
    return { label, value }
  })
  
  useUserStore().setLocales(locales)
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†
  Object.keys(messages as any).map((name: string) => {
    const matchValue = name.match(/(\w+)/) as RegExpMatchArray | null
    if (messages && matchValue) {
      messages[matchValue[1]] = messages[name]
      delete messages[name]
    }
  })

  // i18n ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
  app.use(createI18n({
    legacy: false,                    // Composition API ä½¿ç”¨
    globalInjection: true,            // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³
    fallbackLocale: 'zh_CN',         // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨€èª
    locale: useUserStore().getLanguage(), // ç¾åœ¨ã®è¨€èª
    silentTranslationWarn: true,      // ç¿»è¨³è­¦å‘Šã‚’ç„¡éŸ³åŒ–
    silentFallbackWarn: true,         // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è­¦å‘Šã‚’ç„¡éŸ³åŒ–
    messages,                         // è¨€èªãƒ‘ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
  }))
}
```

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```mermaid
graph TB
    A[Vue App] --> B[Bootstrap]
    B --> C[I18n Service]
    C --> D[createI18n]
    D --> E[Global Messages]
    D --> F[Local Messages]
    
    E --> G[Core Locales]
    E --> H[Module Locales]
    E --> I[Plugin Locales]
    
    F --> J[Component i18n blocks]
    
    K[useTrans Hook] --> L[Global Translation]
    K --> M[Local Translation]
    
    N[useLocalTrans Hook] --> M
    
    G --> O[/src/locales/*.yaml]
    H --> P[/src/modules/*/locales/*.yaml]
    I --> Q[/src/plugins/*/locales/*.yaml]
    
    style A fill:#e1f5fe
    style C fill:#f3e5f5
    style K fill:#fff3e0
    style N fill:#fff3e0
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
web/src/
â”œâ”€â”€ locales/                           # ã‚³ã‚¢è¨€èªãƒ‘ãƒƒã‚¯
â”‚   â”œâ”€â”€ zh_CN[ç®€ä½“ä¸­æ–‡].yaml
â”‚   â”œâ”€â”€ en[English].yaml
â”‚   â””â”€â”€ zh_TW[ç¹é«”ä¸­æ–‡].yaml
â”œâ”€â”€ modules/                           # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨€èªãƒ‘ãƒƒã‚¯
â”‚   â””â”€â”€ base/
â”‚       â””â”€â”€ locales/
â”‚           â”œâ”€â”€ zh_CN[ç®€ä½“ä¸­æ–‡].yaml
â”‚           â”œâ”€â”€ en[English].yaml
â”‚           â””â”€â”€ zh_TW[ç¹é«”ä¸­æ–‡].yaml
â”œâ”€â”€ plugins/                           # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨€èªãƒ‘ãƒƒã‚¯
â”‚   â””â”€â”€ mine-admin/
â”‚       â””â”€â”€ code-generator/
â”‚           â””â”€â”€ web/
â”‚               â””â”€â”€ locales/
â”‚                   â”œâ”€â”€ zh_CN[ç®€ä½“ä¸­æ–‡].yaml
â”‚                   â”œâ”€â”€ en[English].yaml
â”‚                   â””â”€â”€ zh_TW[ç¹é«”ä¸­æ–‡].yaml
â””â”€â”€ hooks/                             # å›½éš›åŒ– Hooks
    â”œâ”€â”€ auto-imports/
    â”‚   â””â”€â”€ useTrans.ts               # è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆç¿»è¨³ Hook
    â””â”€â”€ useLocalTrans.ts              # ãƒ­ãƒ¼ã‚«ãƒ«ç¿»è¨³ Hook
```

## è¨€èªãƒ‘ãƒƒã‚¯ç®¡ç†

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

è¨€èªãƒ‘ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç‰¹å®šã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š`è¨€èªè­˜åˆ¥å­[è¨€èªå].yaml`

```bash
# æ­£ã—ã„å‘½åãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
zh_CN[ç®€ä½“ä¸­æ–‡].yaml
en[English].yaml  
zh_TW[ç¹é«”ä¸­æ–‡].yaml

# é–“é•ã£ãŸå‘½åãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
zh_CN.yaml         # è¨€èªåæ¬ å¦‚
en[è‹±æ–‡].yaml      # è¨€èªåã‚¨ãƒ©ãƒ¼
zh-CN[ç®€ä½“ä¸­æ–‡].yaml  # è¨€èªè­˜åˆ¥å­ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼
```

### ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨€èªãƒ‘ãƒƒã‚¯

ã‚·ã‚¹ãƒ†ãƒ ã¯ä»¥ä¸‹ã®3ã¤ã®å ´æ‰€ã®è¨€èªãƒ‘ãƒƒã‚¯ã‚’è‡ªå‹•ã‚¹ã‚­ãƒ£ãƒ³ã—ã¾ã™ï¼š

1. **ã‚³ã‚¢è¨€èªãƒ‘ãƒƒã‚¯**: `src/locales/`
2. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨€èªãƒ‘ãƒƒã‚¯**: `src/modules/<ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å>/locales/`
3. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨€èªãƒ‘ãƒƒã‚¯**: `src/plugins/<ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å>/locales/`

::: danger é‡è¦æ³¨æ„
**ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«** ã¨ **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³** ã®è¨€èªãƒ‘ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«åã¯ `src/locales` ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¨å®Œå…¨ã«ä¸€è‡´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸€è‡´ã—ãªã„å ´åˆã€ç¿»è¨³ã‚­ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ã„ã†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
:::

### è¨€èªãƒ‘ãƒƒã‚¯å†…å®¹ä¾‹

**ã‚³ã‚¢è¨€èªãƒ‘ãƒƒã‚¯ä¾‹** (`src/locales/zh_CN[ç®€ä½“ä¸­æ–‡].yaml`)ï¼š

```yaml
# ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ 
loginForm:
  loginButton: ãƒ­ã‚°ã‚¤ãƒ³
  passwordPlaceholder: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  codeLabel: èªè¨¼ã‚³ãƒ¼ãƒ‰
  usernameLabel: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

# CRUD æ“ä½œ
crud:
  cancel: ã‚­ãƒ£ãƒ³ã‚»ãƒ«
  save: ä¿å­˜
  ok: ç¢ºå®š
  add: æ–°è¦è¿½åŠ 
  edit: ç·¨é›†
  delete: å‰Šé™¤
  createSuccess: ä½œæˆæˆåŠŸ
  updateSuccess: æ›´æ–°æˆåŠŸ
  delMessage: é¸æŠã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ

# ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
form:
  pleaseInput: {msg}ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  pleaseSelect: {msg}ã‚’é¸æŠã—ã¦ãã ã•ã„
  requiredInput: '{msg}ã¯å¿…é ˆã§ã™'
```

### ãƒ­ãƒ¼ã‚«ãƒ«è¨€èªãƒ‘ãƒƒã‚¯

Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒ­ãƒ¼ã‚«ãƒ«è¨€èªãƒ‘ãƒƒã‚¯ã‚’å®šç¾©ï¼š

```vue
<template>
  <div>
    <h1>{{ t('welcome') }}</h1>
    <p>{{ t('description') }}</p>
  </div>
</template>

<script setup lang="ts">
const { t } = useLocalTrans()
</script>

<i18n lang="yaml">
zh_CN:
  welcome: ã‚ˆã†ã“ã
  description: ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ãƒšãƒ¼ã‚¸ã§ã™
zh_TW:
  welcome: æ­¡è¿ä½¿ç”¨
  description: é€™æ˜¯ä¸€å€‹ç¤ºä¾‹é é¢
en:
  welcome: Welcome
  description: This is a sample page
</i18n>
```

## Hook ã‚·ã‚¹ãƒ†ãƒ è©³ç´°

### useTrans Hook

**ã‚½ãƒ¼ã‚¹ä½ç½®**: `web/src/hooks/auto-imports/useTrans.ts`  
**GitHub**: https://github.com/mineadmin/mineadmin/blob/master/web/src/hooks/auto-imports/useTrans.ts

```typescript
import { useI18n } from 'vue-i18n'
import type { ComposerTranslation } from 'vue-i18n'

export interface TransType {
  globalTrans: ComposerTranslation
  localTrans: ComposerTranslation
}

export function useTrans(key: any | null = null): TransType | string | any {
  const global = useI18n()
  const local = useI18n({
    inheritLocale: true,
    useScope: 'local',
  })

  if (key === null) {
    return {
      localTrans: local.t,
      globalTrans: global.t,
    }
  }
  else {
    // æœ€åˆã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ç¿»è¨³ã‚’æ¤œç´¢ã—ã€æ¬¡ã«ãƒ­ãƒ¼ã‚«ãƒ«ç¿»è¨³ã‚’æ¤œç´¢
    return global.te(key) ? global.t(key) : local.te(key) ? local.t(key) : key
  }
}
```

### useLocalTrans Hook

**ã‚½ãƒ¼ã‚¹ä½ç½®**: `web/src/hooks/useLocalTrans.ts`  
**GitHub**: https://github.com/mineadmin/mineadmin/blob/master/web/src/hooks/useLocalTrans.ts

```typescript
import { useI18n } from 'vue-i18n'
import type { ComposerTranslation } from 'vue-i18n'

export function useLocalTrans(key: any | null = null): string | ComposerTranslation | any {
  const { t } = useI18n({
    inheritLocale: true,
    useScope: 'local',
  })
  return key === null ? t as ComposerTranslation : t(key) as string
}
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

#### 1. ã‚°ãƒ­ãƒ¼ãƒãƒ«ã¨ãƒ­ãƒ¼ã‚«ãƒ«ç¿»è¨³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

```vue
<script setup lang="ts">
import type { TransType } from '@/hooks/auto-imports/useTrans.ts'

// ç¿»è¨³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—
const i18n = useTrans() as TransType
const t = i18n.globalTrans  // ã‚°ãƒ­ãƒ¼ãƒãƒ«ç¿»è¨³é–¢æ•°
const localT = i18n.localTrans  // ãƒ­ãƒ¼ã‚«ãƒ«ç¿»è¨³é–¢æ•°

// ä½¿ç”¨ä¾‹
const title = t('crud.createSuccess')  // "ä½œæˆæˆåŠŸ"
const localTitle = localT('welcome')   // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§å®šç¾©ã•ã‚ŒãŸç¿»è¨³
</script>
```

#### 2. ç›´æ¥ç¿»è¨³å‘¼ã³å‡ºã—

```typescript
// ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆç¿»è¨³ï¼šæœ€åˆã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã€æ¬¡ã«ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
const message = useTrans('crud.updateSuccess')  // "æ›´æ–°æˆåŠŸ"

// ãƒ­ãƒ¼ã‚«ãƒ«ç¿»è¨³ã®ã¿ä½¿ç”¨
const localMessage = useLocalTrans('description')
```

### å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾‹

**ã‚½ãƒ¼ã‚¹ä½ç½®**: `web/src/modules/base/views/permission/user/index.vue`  
**GitHub**: https://github.com/mineadmin/mineadmin/blob/master/web/src/modules/base/views/permission/user/index.vue

```vue
<script setup lang="tsx">
import type { TransType } from '@/hooks/auto-imports/useTrans.ts'

// å›½éš›åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—
const i18n = useTrans() as TransType
const t = i18n.globalTrans

// ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¨­å®šã§ç¿»è¨³ã‚’ä½¿ç”¨
const maDialog: UseDialogExpose = useDialog({
  ok: ({ formType }, okLoadingState: (state: boolean) => void) => {
    // æ“ä½œã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ç•°ãªã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    switch (formType) {
      case 'add':
        formRef.value.add().then((res: any) => {
          res.code === ResultCode.SUCCESS 
            ? msg.success(t('crud.createSuccess'))  // "ä½œæˆæˆåŠŸ"
            : msg.error(res.message)
        })
        break
      case 'edit':
        formRef.value.edit().then((res: any) => {
          res.code === 200 
            ? msg.success(t('crud.updateSuccess'))  // "æ›´æ–°æˆåŠŸ"
            : msg.error(res.message)
        })
        break
    }
  },
})

// ãƒ†ãƒ¼ãƒ–ãƒ«è¨­å®šã§ç¿»è¨³ã‚’ä½¿ç”¨
const options = ref<MaProTableOptions>({
  header: {
    mainTitle: () => t('baseUserManage.mainTitle'),
    subTitle: () => t('baseUserManage.subTitle'),
  },
})
</script>
```

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãç¿»è¨³

```vue
<template>
  <div>
    <!-- è¡¨ç¤ºï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ -->
    <el-input :placeholder="t('form.pleaseInput', { msg: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å' })" />
    
    <!-- è¡¨ç¤ºï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯å¿…é ˆã§ã™ -->
    <span class="error">{{ t('form.requiredInput', { msg: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å' }) }}</span>
  </div>
</template>

<script setup lang="ts">
const { globalTrans: t } = useTrans()
</script>
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç›´æ¥ä½¿ç”¨

```vue
<template>
  <div>
    <!-- ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•° $t ã‚’ä½¿ç”¨ -->
    <el-button>{{ $t('crud.save') }}</el-button>
    
    <!-- Hook ã‚’ä½¿ç”¨ -->
    <el-button>{{ t('crud.cancel') }}</el-button>
  </div>
</template>
```

## é«˜åº¦ãªæ©Ÿèƒ½

### å‹•çš„è¨€èªåˆ‡ã‚Šæ›¿ãˆ

```typescript
// è‹±èªã«åˆ‡ã‚Šæ›¿ãˆ
const { locale } = useI18n()
locale.value = 'en'

// ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆã‚¢ã‚’ä½¿ç”¨
const userStore = useUserStore()
userStore.setLanguage('en')
```

### ç¿»è¨³ã‚­ãƒ¼ã®å­˜åœ¨ç¢ºèª

```typescript
const { te, t } = useI18n()

// ã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
if (te('some.key')) {
  const translation = t('some.key')
} else {
  console.warn('Translation key not found: some.key')
}
```

### è¤‡æ•°å½¢å‡¦ç†

```yaml
# è¨€èªãƒ‘ãƒƒã‚¯å®šç¾©
en:
  cart:
    items: 'no items | one item | {count} items'
zh_CN:
  cart:
    items: '{count} å€‹å•†å“'
```

```typescript
// ä½¿ç”¨
const itemCount = ref(5)
const message = t('cart.items', itemCount.value)  // "5 å€‹å•†å“"
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### é…å»¶èª­ã¿è¾¼ã¿è¨€èªãƒ‘ãƒƒã‚¯

```typescript
// ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§è¨€èªãƒ‘ãƒƒã‚¯ã‚’èª­ã¿è¾¼ã¿
const loadLanguage = async (locale: string) => {
  try {
    const messages = await import(`../locales/${locale}[${getLocaleName(locale)}].yaml`)
    const { global } = useI18n()
    global.setLocaleMessage(locale, messages.default)
    global.locale.value = locale
  } catch (error) {
    console.error(`Failed to load language pack: ${locale}`, error)
  }
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–

```typescript
// ç¿»è¨³çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
const translationCache = new Map<string, string>()

const cachedT = (key: string, ...args: any[]) => {
  const cacheKey = `${key}-${JSON.stringify(args)}`
  if (translationCache.has(cacheKey)) {
    return translationCache.get(cacheKey)
  }
  
  const result = t(key, ...args)
  translationCache.set(cacheKey, result)
  return result
}
```

## ãƒ‡ãƒãƒƒã‚°ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. ç¿»è¨³ã‚­ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„

**å•é¡Œ**: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è­¦å‘Š `Not found 'xxx' key in 'zh_CN' locale messages.` ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**è§£æ±ºç­–**:
```typescript
// ã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
const { te, t } = useI18n()
const safeT = (key: string, fallback: string = key) => {
  return te(key) ? t(key) : fallback
}
```

#### 2. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨€èªãƒ‘ãƒƒã‚¯ãŒæœ‰åŠ¹ã«ãªã‚‰ãªã„

**å•é¡Œ**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨€èªãƒ‘ãƒƒã‚¯ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„

**è§£æ±ºç­–**:
1. ãƒ•ã‚¡ã‚¤ãƒ«åãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèªï¼š`zh_CN[ç®€ä½“ä¸­æ–‡].yaml`
2. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒã‚¹ã‚­ãƒ£ãƒ³ç¯„å›²å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
3. YAML æ§‹æ–‡ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèª

#### 3. ã‚¿ã‚¤ãƒ—ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: TypeScript ã‚¿ã‚¤ãƒ—ãƒã‚§ãƒƒã‚¯ãŒå¤±æ•—ã™ã‚‹

**è§£æ±ºç­–**:
```typescript
// æ­£ã—ã„ã‚¿ã‚¤ãƒ—å®šç¾©ã‚’ä½¿ç”¨
import type { TransType } from '@/hooks/auto-imports/useTrans.ts'

const i18n = useTrans() as TransType
const t = i18n.globalTrans  // ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãªç¿»è¨³é–¢æ•°
```

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

#### IDE ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¨å¥¨

- **VSCode**: [i18n Ally](https://marketplace.visualstudio.com/items?itemName=Lokalise.i18n-ally)
- **WebStorm**: [Easy i18n](https://plugins.jetbrains.com/plugin/16316-easy-i18n)

#### ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

```typescript
// è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–
const i18n = createI18n({
  // ... ãã®ä»–ã®è¨­å®š
  silentTranslationWarn: false,  // ç¿»è¨³è­¦å‘Šã‚’è¡¨ç¤º
  silentFallbackWarn: false,     // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è­¦å‘Šã‚’è¡¨ç¤º
  missingWarn: true,            