# 增强型目录导航演示

这个页面展示了我们新实现的增强型页内导航（TOC）功能。请注意右侧的目录导航，它具有以下特性：

## 主要功能特性

### 视觉层次优化

我们的新目录导航具有清晰的视觉层次，不同级别的标题通过缩进、字体大小和颜色进行区分。

#### 标题级别区分
- H1 标题作为主要章节，具有突出的视觉效果
- H2-H6 标题根据层级递减显示
- 每个级别都有适当的缩进和间距

#### 颜色和样式
- 激活项使用渐变色高亮显示
- 悬停效果提供即时的视觉反馈
- 深色模式下自动调整颜色方案

### 交互体验提升

增强的交互功能让导航更加流畅和直观。

#### 平滑滚动
点击目录项时，页面会平滑滚动到对应位置，而不是突然跳转。

#### 滚动同步
当您滚动页面时，目录会自动高亮当前可见的章节。

#### 键盘导航
支持使用键盘快捷键进行导航：
- `↑/↓` 或 `j/k` - 上下导航
- `Enter` 或 `Space` - 激活当前项
- `Home/End` - 跳到第一项/最后一项
- `Esc` - 关闭移动端浮层

### 现代化设计元素

我们采用了现代化的设计语言，包括：

#### 渐变和阴影
- 激活指示器使用优雅的渐变效果
- 微妙的阴影增加深度感
- 圆角设计符合现代审美

#### 动画过渡
- 所有状态变化都有平滑的过渡动画
- 激活项的脉冲动画提供视觉指引
- 移动端的弹出动画流畅自然

## 功能增强

### 阅读时间估算

目录顶部显示预估的阅读时间，帮助读者合理安排时间。计算考虑了：
- 文本长度
- 代码块数量
- 图片数量

### 滚动进度指示

页面右侧有一个垂直的进度条，显示您的阅读进度。

### 长目录折叠

对于包含大量章节的长文档，支持折叠/展开功能：
- Ctrl/Cmd + 点击 H1 标题可以折叠其下的子章节
- 自动记住折叠状态

### 搜索高亮支持

当使用页面搜索功能时，匹配的目录项会被高亮显示。

## 国际化支持

### 多语言适配

目录导航完美支持多种语言：

#### 中文支持
- 优化的中文字体渲染
- 适当的字符间距
- 本地化的界面文本

#### 日文支持
- 日文字体优化
- 假名和汉字的混合排版
- 日式界面习惯

#### 英文支持
- 西文字体优化
- 自然的单词间距
- 英文界面文本

### CJK 字符优化

针对中日韩文字的特殊优化：
- 更好的字重控制
- 优化的行高设置
- 适当的段落间距

## 移动端体验

### 响应式设计

目录导航在不同设备上都有良好的表现：

#### 桌面端
- 固定在右侧
- 始终可见
- 充分利用屏幕空间

#### 平板端
- 自适应宽度
- 字体大小调整
- 触摸友好的交互

#### 移动端
- 浮动按钮触发
- 底部弹出式面板
- 手势支持

### 触摸优化

移动设备上的特殊优化：
- 更大的点击区域
- 触摸手势支持
- 防误触设计

## 技术实现细节

### 性能优化

我们注重性能，确保流畅的用户体验：

#### 防抖和节流
- 滚动事件使用节流处理
- 窗口调整使用防抖
- 减少不必要的重绘

#### GPU 加速
- 动画使用 transform 属性
- 启用硬件加速
- 优化的重排重绘

#### 懒加载
- 按需加载功能模块
- 延迟初始化非关键功能
- 优化首屏加载时间

### 可访问性

我们重视所有用户的使用体验：

#### 屏幕阅读器支持
- 语义化的 HTML 结构
- ARIA 属性标注
- 键盘导航支持

#### 高对比度模式
- 自动适应系统设置
- 增强的边框和轮廓
- 清晰的焦点指示

#### 减少动画
- 尊重用户的动画偏好
- 提供无动画的替代方案
- 保持功能完整性

## 使用示例

### 基础配置

目录导航会自动生成，无需额外配置。但您可以通过选项自定义行为：

```typescript
enhanceTOC({
  enableReadingTime: true,    // 显示阅读时间
  enableProgress: true,       // 显示进度条
  enableCollapse: true,       // 启用折叠功能
  enableSmoothScroll: true,   // 平滑滚动
  enableKeyboardNav: true,    // 键盘导航
  enableMobileFloat: true,    // 移动端浮动
  enableSearchHighlight: true // 搜索高亮
})
```

### 样式自定义

您可以通过 CSS 变量自定义外观：

```css
:root {
  --toc-gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --toc-indent-base: 1rem;
  --toc-font-h1: 0.95rem;
  /* 更多变量... */
}
```

## 总结

这个增强型的页内导航系统大大提升了文档的可读性和导航体验。它不仅在视觉上更加现代和吸引人，在功能上也提供了丰富的交互特性。无论是桌面端还是移动端，无论是哪种语言，用户都能获得一致且优秀的使用体验。

通过这些改进，我们希望让用户在浏览长文档时能够：
- 快速了解文档结构
- 轻松定位感兴趣的内容
- 追踪阅读进度
- 享受流畅的导航体验

感谢您体验我们的增强型目录导航系统！